Mail Transfer Protocol]] (SMTP).<ref>[http://www.kohala.com/start/tcpipiv1.html ''TCP/IP Illustrated: the protocols''], ISBN 0-201-63346-9, W. Richard Stevens, February 1994</ref> Data coded according to application layer protocols are then [[encapsulation (networking)|encapsulated]] into one or (occasionally) more transport layer protocols (such as the [[Transmission Control Protocol]] (TCP) or [[User Datagram Protocol]] (UDP)), which in turn use [[lower layer protocol]]s to effect actual data transfer. Since the IP stack defines no layers between the application and transport layers, the application layer must include any protocols that act like the OSI's presentation and session layer protocols. This is usually done through [[Library (computer science)|libraries]]. Application Layer protocols generally treat the transport layer (and lower) protocols as "[[Black Box|black boxes]]" which provide a stable network connection across which to communicate, although the applications are usually aware of key qualities of the transport layer connection such as the [[Transport Layer|end point]] [[IP Address|IP addresses]] and [[port number]]s. As noted above, layers are not necessarily clearly defined in the Internet protocol suite. Application layer protocols are most often associated with [[client–server]] applications, and the commoner [[server (computing)|servers]] have specific [[TCP and UDP port|ports]] assigned to them by the [[Internet Assigned Numbers Authority|IANA]]: [[HyperText Transfer Protocol|HTTP]] has port 80; [[Telnet]] has port 23; etc. [[client (computing)|Clients]], on the other hand, tend to use [[ephemeral port]]s, i.e. port numbers assigned at random from a range set aside for the purpose. Transport and lower level layers are largely unconcerned with the specifics of application layer protocols. [[Router]]s and [[network switch|switches]] do not typically "look inside" the encapsulated traffic to see what kind of application protocol it represents, rather they just provide a conduit for it. However, some [[Firewall (computing)|firewall]] and [[bandwidth throttling]] applications do try to determine what's inside, as with the [[Resource Reservation Protocol]] (RSVP). It's also sometimes necessary for [[Network Address Translation]] (NAT) facilities to take account of the needs of particular application layer protocols. (NAT allows hosts on private networks to communicate with the outside world via a single visible IP address using [[port forwarding]], and is an almost ubiquitous feature of modern domestic [[broadband router]]s). ==Hardware and software implementation== Normally, application programmers are concerned only with interfaces in the Application Layer and often also in the Transport Layer, while the layers below are services provided by the TCP/IP stack in the operating system. Microcontroller firmware in the network adapter typically handles link issues, supported by driver software in the operational system. Non-programmable analog and digital electronics are normally in charge of the physical components in the Link Layer, typically using an [[application-specific integrated circuit]] (ASIC) chipset for each network interface or other physical standard. However, hardware or software implementation is not stated in the protocols or the layered reference model. High-performance routers are to a large extent based on fast non-programmable digital electronics, carrying out link level switching. ==OSI and TCP/IP layering differences== The three top layers in the OSI model—the [[Application Layer]], the [[Presentation Layer]] and the [[Session Layer]]—are not distinguished separately in the TCP/IP model where it is just the Application Layer. While some pure OSI protocol applications, such as [[X.400]], also combined them, there is no ''requirement'' that a TCP/IP protocol stack needs to impose monolithic architecture above the Transport Layer. For example, the [[Network File System]] (NFS) application protocol runs over the [[External Data Representation|eXternal Data Representation]] (XDR) presentation protocol, which, in turn, runs over a protocol with Session Layer functionality, [[Remote Procedure Call]] (RPC). RPC provides reliable record transmission, so it can run safely over the best-effort [[User Datagram Protocol]] (UDP) transport. The Session Layer roughly corresponds to the Telnet [[virtual terminal]] functionality{{Citation needed|date=June 2009}}, which is part of text based protocols such as the [[HTTP]] and [[SMTP]] TCP/IP model Application Layer protocols. It also corresponds to TCP and UDP port numbering, which is considered as part of the transport layer in the TCP/IP model. Some functions that would have been performed by an OSI presentation layer are realized at the Internet application layer using the [[MIME]] standard, which is used in application layer protocols such as [[HTTP]] and [[SMTP]]. Since the IETF protocol development effort is not concerned with strict layering, some of its protocols may not appear to fit cleanly into the OSI model. These conflicts, however, are more frequent when one only looks at the original OSI model, ISO 7498, without looking at the annexes to this model (e.g., ISO 7498/4 Management Framework), or the ISO 8648 Internal Organization of the Network Layer (IONL). When the IONL and Management Framework documents are considered, the [[Internet Control Message Protocol|ICMP]] and [[Internet Group Management Protocol|IGMP]] are neatly defined as layer management protocols for the network layer. In like manner, the IONL provides a structure for "subnetwork dependent convergence facilities" such as [[Address Resolution Protocol|ARP]] and [[Reverse Address Resolution Protocol|RARP]]. IETF protocols can be encapsulated recursively, as demonstrated by tunneling protocols such as [[Generic Routing Encapsulation]] (GRE). While basic OSI documents do not consider tunneling, there is some concept of tunneling in yet another extension to the OSI architecture, specifically the transport layer gateways within the International Standardized Profile framework.<ref>[http://www.iso.org/iso/en/CatalogueDetailPage.CatalogueDetail?CSNUMBER=30726 Framework and taxonomy of International Standardized Profiles], ISO 10000, October 1998</ref> The associated OSI development effort, however, has been abandoned given the overwhelming adoption of TCP/IP protocols. ==Layer names and number of layers in the literature== The following table shows the layer names and the number of layers of networking models presented in [[request for comments|RFCs]] and textbooks in widespread use in today's university computer networking courses. {| class="wikitable" |- ! style="background:#adb" | Kurose,<ref>[http://www.pearsonhighered.com/educator/academic/product/0,,0321497708,00%2ben-USS_01DBC.html James F. Kurose, Keith W. Ross, Computer Networking: A Top-Down Approach, 2008, ISBN 0-321-49770-8]</ref> Forouzan <ref name=Forouzan>[http://books.google.com/books?id=U3Gcf65Pu9IC&printsec=frontcover&dq=forouzan+%22computer+networks%22&ei=RPZ9SOCvMofctAO02di0AQ&hl=en&sig=ACfU3U2Hh_n83pPtf5uCreCih0HnWvNcxg#PPA29,M1 Behrouz A. Forouzan, Data Communications and Networking]</ref> ! style="background:#adb" | Comer,<ref name=Comer>[http://books.google.com/books?id=jonyuTASbWAC&pg=PA155&hl=sv&source=gbs_toc_r&cad=0_0&sig=ACfU3U18gHAia1pU_Pxn-rhkCnH1v70M6Q#PPA161,M1 Douglas E. Comer, Internetworking with TCP/IP: Principles, Protocols and Architecture, Pearson Prentice Hall 2005, ISBN 0-13-187671-6]</ref> Kozierok<ref>[http://books.google.com/books?id=Pm4RgYV2w4YC&pg=PA131&dq=%22TCP/IP+model+layers%22&lr=&hl=sv&sig=ACfU3U3ofMwYAbZfGz1BmAXc2oNNFC2b8A#PPA129,M1 Charles M. Kozierok, "The TCP/IP Guide", No Starch Press 2005]</ref> ! style="background:#adb" | Stallings<ref name=Stallings>[http://books.google.com/books?id=c_AWmhkovR0C&pg=PA35&dq=%22internet+layer%22+%22network+access+layer%22&ei=-O99SI3EJo32sgOQpPThDw&hl=en&sig=ACfU3U38aXznzeAnQdbLcPFXfCgxAd4lFg William Stallings, Data and Computer Communications, Prentice Hall 2006, ISBN 0-13-243310-9]</ref> ! style="background:#adb" | Tanenbaum<ref>[http://books.google.com/books?id=Pd-z64SJRBAC&pg=PA42&vq=internet+layer&dq=networks&hl=sv&source=gbs_search_s&sig=ACfU3U3DHANeIz0sOsd5NK4VXSrgNFYVAw#PPA42,M1 Andrew S. Tanenbaum, Computer Networks, 