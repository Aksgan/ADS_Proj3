2002</ref> However, these alternatives can introduce problems of their own, including the following: * route oscillation * sub-optimal routing * increase of BGP convergence time<ref>[http://www.ietf.org/rfc/rfc4098.txt Terminology for Benchmarking BGP Device Convergence in the Control Plane], RFC 4098, H. Berkowitz ''et al.'', June 2005</ref> Additionally, route reflectors and BGP confederations were not designed to ease BGP router configuration. Nevertheless, these are common tools for experienced BGP network architects. These tools may be combined, for example, as a hierarchy of route reflectors. ===Instability=== The routing tables managed by a BGP implementation are adjusted continually to reflect actual changes in the network, such as links breaking and being restored or routers going down and coming back up. In the network as a whole it is normal for these changes to happen almost continuously, but for any particular router or link changes are supposed to be relatively infrequent. If a router is misconfigured or mismanaged then it may get into a rapid cycle between down and up states. This pattern of repeated withdrawal and reannouncement, known as [[route flapping]], can cause excessive activity in all the other routers that know about the broken link, as the same route is continuously injected and withdrawn from the routing tables. The BGP design is such that delivery of traffic may not function while routes are being updated. On the Internet, a BGP routing change may cause outages for several minutes. A feature known as ''route flap damping'' ([http://www.ietf.org/rfc/rfc2439.txt RFC 2439]) is built into many BGP implementations in an attempt to mitigate the effects of route flapping. Without damping the excessive activity can cause a heavy processing load on routers, which may in turn delay updates on other routes, and so affect overall routing stability. With damping, a route's flapping is [[exponential decay|exponentially decayed]]. At the first instance when a route becomes unavailable and quickly reappears, damping does not take effect, so as to maintain the normal fail-over times of BGP. At the second occurrence, BGP shuns that prefix for a certain length of time; subsequent occurrences are timed out exponentially. After the abnormalities have ceased and a suitable length of time has passed for the offending route, prefixes can be reinstated and its slate wiped clean. Damping can also mitigate [[denial of service]] attacks; damping timings are highly customizable. However, subsequent research has shown that flap damping can actually lengthen convergence times in some cases, and can cause interruptions in connectivity even when links are not flapping.<ref>[http://www.sigcomm.org/sigcomm2002/papers/routedampening.pdf Route Flap Damping Exacerbates Internet Routing Convergence]</ref><ref>{{cite web | url = http://www.cs.arizona.edu/~bzhang/paper/05-icdcs-dtimer.pdf | last = Zhang | first = Beichuan | title = Timer Interaction in Route Flap Damping | accessdate = 2006-09-26 | coauthors = Pei Dan, Daniel Massey, Lixia Zhang | year = 2005 | month = June | work = IEEE 25th [[International Conference on Distributed Computing Systems]] | quote = We show that the current damping design leads to the intended behavior only under persistent route flapping. When the number of flaps is small, the global routing dynamics deviates significantly from the expected behavior with a longer convergence delay. }}</ref> Moreover, as backbone links and router processors have become faster, some network architects have suggested that flap damping may not be as important as it used to be, since changes to the routing table can be absorbed much faster by routers.{{Citation needed|date=April 2008}} This has led the RIPE Route Working Group to write that ''"with the current implementations of BGP flap damping, the application of flap damping in ISP networks is NOT recommended. ... If flap damping is implemented, the ISP operating that network will cause side-effects to their customers and the Internet users of their customers' content and services ... . These side-effects would quite likely be worse than the impact caused by simply not running flap damping at all."'' [http://www.ripe.net/docs/routeflap-damping.html] Improving stability without the problems of flap damping is the subject of current research.[http://tools.ietf.org/internet-drafts/draft-li-bgp-stability-01.txt] ===Routing table growth=== [[File:BGP Table growth.svg|thumb|BGP table growth on the Internet.]] [[File:Internet AS.svg|thumb|Number of AS on the Internet.]] One of the largest problems faced by BGP, and indeed the Internet infrastructure as a whole, is the growth of the Internet routing table. If the global routing table grows to the point where some older, less capable, routers cannot cope with the memory requirements or the CPU load of maintaining the table, these routers will cease to be effective gateways between the parts of the Internet they connect. In addition, and perhaps even more importantly, larger routing tables take longer to stabilize (see above) after a major connectivity change, leaving network service unreliable, or even unavailable, in the interim. Until late 2001, the global routing table was [[exponential growth|growing exponentially]], threatening an eventual widespread breakdown of connectivity. In an attempt to prevent this, ISPs cooperated in keeping the global routing table as small as possible, by using [[Classless Inter-Domain Routing]] (CIDR) and [[route aggregation]]. While this slowed the growth of the routing table to a linear process for several years, with the expanded demand for multihoming by end user networks the growth was once again exponential by the middle of 2004. As of April 2010, the routing table has in excess of 310,000 entries.<ref>[http://bgp.potaroo.net BGP Routing Table Analysis Reports]</ref> Route summarization is often used to improve aggregation of the BGP global routing table, thereby reducing the necessary table size in routers of an [[Autonomous system (Internet)|AS]]. Consider AS1 has been allocated the big address space of 172.16.0.0/16, this would be counted as one route in the table, but due to customer requirement or traffic engineering purposes, AS1 wants to announce smaller, more specific routes of 172.16.0.0/18, 172.16.64.0/18 and 172.16.128.0/18. The prefix 172.16.192.0/18 does not have any hosts so AS1 does not announce a specific route 172.16.192.0/18. This all counts as AS1 announcing four routes. AS2 will see the 4 routes from AS1 (172.16.0.0/16, 172.16.0.0/18, 172.16.64.0/18 and 172.16.128.0/18) and it is up to the routing policy of AS2 to decide whether or not to take a copy of the four routes or, 