access it. The ephemeris is updated every 2 hours and is generally valid for 4 hours, with provisions for updates every 6 hours or longer in non-nominal conditions. The almanac is updated typically every 24 hours. Additionally data for a few weeks following is uploaded in case of transmission updates that delay data upload. === Satellite frequencies === :{| class="wikitable" style="float:right; width:30em; margin:0 0 0.5em 1em;" border="1" |+ {{nowrap|GPS frequency overview}} ! Band !! Frequency !! Description |- | '''L1''' || 1575.42 MHz || Coarse-acquisition (C/A) and encrypted precision P(Y) codes, plus the L1 civilian ([[L1C]]) and military (M) codes on future Block III satellites. |- | '''L2''' || 1227.60 MHz || P(Y) code, plus the [[L2C]] and military codes on the Block IIR-M and newer satellites. |- | '''L3''' || 1381.05 MHz || Used for nuclear detonation (NUDET) detection. |- | '''L4''' || 1379.913 MHz || Being studied for additional ionospheric correction. |- | '''L5''' || 1176.45 MHz || Proposed for use as a civilian safety-of-life (SoL) signal. |} All satellites broadcast at the same two frequencies, 1.57542 GHz (L1 signal) and 1.2276 GHz (L2 signal). The satellite network uses a CDMA spread-spectrum technique where the low-bitrate message data is encoded with a high-rate [[pseudorandom number generator|pseudo-random]] (PRN) sequence that is different for each satellite. The receiver must be aware of the PRN codes for each satellite to reconstruct the actual message data. The C/A code, for civilian use, transmits data at 1.023 million [[chip (CDMA)|chips]] per second, whereas the P code, for U.S. military use, transmits at 10.23 million chips per second. The L1 carrier is modulated by both the C/A and P codes, while the L2 carrier is only modulated by the P code.<ref>[http://www.kowoma.de/en/gps/signals.htm How GPS works.] Konowa.de (2005).</ref> The P code can be encrypted as a so-called P(Y) code that is only available to military equipment with a proper decryption key. Both the C/A and P(Y) codes impart the precise time-of-day to the user. The L3 signal at a frequency of 1.38105 GHz is used by the United States Nuclear Detonation (NUDET) Detection System (USNDS) to detect, locate, and report nuclear detonations (NUDETs) in the earth's atmosphere and near space.<ref>[http://www.fas.org/spp/military/program/nssrm/initiatives/usnds.htm United States Nuclear Detonation Detection System (USNDS)]</ref> One usage is the enforcement of nuclear test ban treaties. The L4 band at 1.379913 GHz is being studied for additional ionospheric correction. The L5 frequency band at 1.17645 GHZ was added in the process of [[GPS modernization]]. This frequency falls into an internationally protected range for aeronautical navigation, promising little or no interference under all circumstances. The first Block IIF satellite that would provide this signal is set to be launched in 2009<ref>[http://mg.gpsworld.com/gpsmg/Military+%26+Government+News/First-GPS-IIF-Satellite-Undergoes-Environmental-Te/ArticleStandard/Article/detail/470408?contextCategoryId=33824 First GPS IIF Satellite Undergoes Environmental Testing]. GPS World. November 5, 2007.</ref>. The L5 consists of two carrier components that are in phase quadrature with each other. Each carrier component is bi-phase shift key (BPSK) modulated by a separate bit train. === Demodulation and decoding === <!-- Demodulation is done with carrier frequency; decoding is done with Gold Code. -->[[Image:gps ca gold.svg|thumb|left| 300px|Demodulating and Decoding GPS Satellite Signals|Demodulating and Decoding GPS Satellite Signals using the Coarse/Acquisition [[Gold code]].]] Because all of the satellite signals are modulated onto the same L1 carrier frequency, the signals must be separated after demodulation. This is done by assigning each satellite a unique binary [[sequence]] known as a [[Gold code]]. The signals are decoded after demodulation using addition of the Gold codes corresponding to the satellites monitored by the receiver.<ref>{{cite web | url = http://www.navcen.uscg.gov/?pageName=gpsAlmanacs | title = GPS Almanacs, NANUS, and Ops Advisories (including archives) | publisher = US Coast Guard | work = GPS Almanac Information | accessdate = 2009-09-09 }}</ref><ref>"George, M., Hamid, M., and Miller A. {{PDFlink|[http://web.archive.org/web/20071122063244/http://www.xilinx.com/support/documentation/application_notes/xapp217.pdf Gold Code Generators in Virtex Devices]|126 KB}}</ref> If the almanac information has previously been acquired, the receiver picks the satellites to listen for by their PRNs, unique numbers in the range 1 through 32. If the almanac information is not in memory, the receiver enters a search mode until a lock is obtained on one of the satellites. To obtain a lock, it is necessary that there be an unobstructed line of sight from the receiver to the satellite. The receiver can then acquire the almanac and determine the satellites it should listen for. As it detects each satellite's signal, it identifies it by its distinct C/A code pattern. There can be a delay of up to 30 seconds before the first estimate of position because of the need to read the ephemeris data. Processing of the navigation message enables the determination of the time of transmission and the satellite position at this time. For more information see [[GPS signals#Demodulation and decoding|Demodulation and Decoding, Advanced]]. {{clear}} == Navigation equations == The receiver uses messages received from four satellites to determine the satellite positions and time sent. The ''x, y,'' and ''z'' components of position and the time sent are designated as <math>\ \left [x_i, y_i, z_i, t_i\right ]</math> where the subscript ''i'' denotes the satellite and has the value 1, 2, 3, or 4. Knowing when the message was received <math>\ \ tr_i</math>, the receiver computes the message's transit time as <math>\ \left (tr_i-t_i\right ) </math>. Assuming the message traveled at the speed of light ([[Speed of light|c]]) the distance traveled, <math>\ \ p_i</math> is <math>\ \left (tr_i-t_i\right )c </math>. Knowing the distance from receiver to satellite and the satellite's position implies that the receiver is on the surface of a sphere centered at the satellite's position. Thus the receiver is at or near the intersection of the surfaces of four spheres. In the ideal case of no errors, the receiver is at the intersection of the surfaces of four spheres. Excluding the unrealistic case (for GPS purposes) of two coincident spheres, the surfaces of two intersecting spheres is either a point (if they merely touch) or a circle as depicted in the illustration below. Two of the points where the surfaces of the spheres intersect are clearly marked on 