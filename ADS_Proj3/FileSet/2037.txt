by doing a Sense and examining the data returned. A Sense command with the modifier bits all zero is always valid. A noteworthy deviation from the architecture is that DASD use Sense command codes for Reserve and Release, instead of using Control. =====CCW flags===== The flags in a CCW affect how it executes and terminates. {| class="wikitable collapsible" |+ CCW flags |- ! align=right valign=top style="width:5em" | bit ! ! flag ! effect |- | align=right valign=top | 32 | valign=top | <span id=CCW-CD>CD</span> | valign=top | <span id=CCW-ChainData>Chain-Data</span> | Continue operation using the storage area defined by the next CCW.<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|pages=101-103}} |- |- | align=right valign=top | 33 | valign=top | <span id=CCW-CC>CC</span> | valign=top | <span id=CCW-ChainCommand>Chain-Command</span> | Continue with the Command in the next CCW.<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|pages=101,103}} |- | align=right valign=top | 34 | valign=top | <span id=CCW-SLI>SLI</span><ref group=NB>Also known as Suppress Incorrect Length Indication (SILI)</ref> | valign=top | <span id=CCW-SuppressLengthindication>Suppress-Length-Indication</span> | Continue channel program after count mis-match.<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|pages=99-100}} |- | align=right valign=top | 35 | valign=top | <span id=CCW-SKIP>SKIP</span> | valign=top | Skip | Do not read from or write into storage.| Do not read from or write into storage.<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|pages=103-104}} |- | align=right valign=top | 36 | valign=top | <span id=CCW-PCI>PCI</span> | valign=top | <span id=CCW-ProgramControlledInterupt>Program-Controlled-Interruption</span> | Request interrupt when fetching CCW.<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|pages=104-105}} |} ====Channel Status Word==== The ''Channel Status Word'' (CSW)<ref name=A22-6821-7/>{{rp|pages=113-121}} provides data associated with an I/O interrupt. {| class="wikitable collapsible" |+ CSW format |- ! align=right valign=top style="width:5em"| bits ! field |- | align=right | 0-3 | Key<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|page=119}} |- | align=right | 4-7 | 0000 |- | align=right | 8-31 | Command Address<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|page=119}} |- | align=right | 32-47 | Status<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|pages=113-118}} |- | align=right valign=top | 32-39 | valign=top | :Unit Status Conditions<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|pages=113-116}} :Detected by the device or control unit |- | align=right | <span id=CSW_Attention>32</span> | :[[#Attention|Attention]]<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|page=113}} |- | align=right | <span id=CSW_Status_modifier>33</span> | :[[#Status modifier|Status modifier]]<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|pages=113-114}} |- | align=right | <span id=CSW_Control_unit_end>34</span> | :[[#Control unit end|Control unit end]]<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|page=114}} |- | align=right | <span id=CSW_Busy>35</span> | :[[#Busy|Busy]]<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|pages=114-115}} |- | align=right | <span id=CSW_Channel_end>36</span> | :[[#Channel end|Channel end]]<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|page=115}} |- | align=right | <span id=CSW_Device_end>37</span> | :[[#Device end|Device end]]<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|page=115}} |- | align=right | <span id=CSW_Unit_check>38</span> | :[[#Unit check|Unit check]]<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|pages=115-116}} |- | align=right | <span id=CSW_Unit_exception>39</span> | :[[#Unit exception|Unit exception]]<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|page=116}} |- | align=right valign=top | 40-47 | valign=top | :Channel Status Conditions<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|pages=116-118}} :Detected by the channel. |- | align=right | <span id=CSW_Program-controlled_interruption>40</span> | :[[#Program-controlled interruption|Program-controlled interruption]]<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|pages=116-117}} |- | align=right | <span id=CSW_Incorrect_length>41</span> | :[[#Incorrect length|Incorrect length]]<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|page=117}} |- | align=right | <span id=CSW_Program_check>42</span> | :[[#Program check|Program check]]<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|page=117}} |- | align=right | <span id=CSW_Protection_check>43</span> | :[[#Protection check|Protection check]]<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|pages=117-118}} |- | align=right | <span id=CSW_Channel_data_check>44</span> | :[[#Channel data check|Channel data check]]<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|page=118}} |- | align=right | <span id=CSW_Channel_control_check>45</span> | :[[#Channel control check|Channel control check]]<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|page=118}} |- | align=right | <span id=CSW_Interface_control_check>46</span> | :[[#Interface control check|Interface control check]]<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|page=118}} |- | align=right | <span id=CSW_Chaining_check>47</span> | :[[#Chaining check|Chaining check]]<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|page=118}} |- | align=right | 48-63 | Count<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|page=120}} |} =====CSW Protection Key===== For an I/O complete or PCI interrupt, this contains the protect key from the CAW at the time that the I/O operation was initiated.<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|page=119}} =====CSW Command Address===== For an I/O complete or PCI interrupt, this normally contains the address+8 of the last CCW fetched. However, there are 9 exceptions<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|page=119}}. =====CSW Status===== This field contains one byte of [[#Channel status|Channel status]] bits, indicating conditions detected by the channel<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|pages=116-118}}, and one byte of [[#Unit status|Unit status]] bits, indicating conditions detected by the I/O unit<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|pages=113-116}}. There is no distinction between conditions detected by the control unit and conditions detected by the device. =====CSW residual Count===== This half word gives the number of bytes in the area described by the CCW that have not been transferred to or from the channel<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|page=120}}. The difference between the count in the CCW and the residual count gives the number of bytes transferred. ===Operator Controls=== [[Image:IBM System 360 operator controls.png|200px|thumb|right|operator controls]] The architecture of System/360 specified the existence of several common functions, but did not specify their means of implementation. This allowed IBM to use different physical means, e.g., dial, keyboard, pushbutton, roller, image or text on a CRT, for selecting the functions and values on different processors. Any reference to ''key'' or ''switch'' should be read as applying to, e.g., a light-pen selection, an equivalent keyboard sequence. ====System Reset==== ''System Reset'' sends a reset signal on every I/O channel and clears the processor state; all pending interrupts are cancelled. System Reset is not guarantied to correct parity errors in general registers, floating point registers or storage. System Reset does not reset the state of shared I/O devices. ====Initial Program Load==== ''Initial Program Load''<sup class=reference>[[#PoOps|PoOps]]</sup>{{rp|page=123}} is an process for loading a program when there isn't a loader available in storage, usually because the machine was just powered on or to load an alternate operating system.<ref name=A22-6821-7/>{{rp|page=123}} This process is sometimes known as [[Booting]]. As part of the IPL facility the operator has a means of specifying a 12-bit<ref group=NB name=ChanNum/> device address, typically with three dials as shown in the operator controls drawing. When the operator<ref group=NB>Or an equivalent automated facility.</ref> selects the ''Load'' function, the system performs a ''System Reset'', sends a Read IPL<ref group=NB>Read with all modifier bits zero</ref> channel command to the selected device in order to read 24 bytes into locations 0-23 and causes the channel to begin fetching ''CCW'''s at location 8; the effect is as if the channel had fetched a CCW with a length of 24, and address of 0 and the flags containing Command Chaining + Suppress Length Indication. At the completion of the operation, the system stores the I/O address in the halfword at location 2 and loads the PSW from location 0. Initial program loading is typically done from a tape, a card reader, or a disk drive. Generally, the operating system was loaded from a disk drive; IPL from tape or cards was 