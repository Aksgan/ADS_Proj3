phase detector=== The phase detector needs to compute the phase difference of its two input signals. Let α be the phase of the first input and β be the phase of the second. The actual input signals to the phase detector, however, are not α and β, but rather sinusoids such as sin(α) and cos(β). In general, computing the phase difference would involve computing the arcsine and arccosine of each normalized input (to get an ever increasing phase) and doing a subtraction. Such an analog calculation is difficult. Fortunately, the calculation can be simplified by using some approximations. Assume that the phase differences will be small (much less than 1 radian, for example). The [[small-angle approximation]] for the sine function and the [[List of trigonometric identities#Product-to-sum and sum-to-product identities|sine angle addition formula]] yield: :<math> \alpha - \beta \approx \sin(\alpha-\beta) = \sin \alpha \cos\beta - \sin \beta \cos \alpha </math> The expression suggests a quadrature phase detector can be made by summing the outputs of two multipliers. The quadrature signals may be formed with phase shift networks. Two common implementations for multipliers are the '''double balanced diode mixer''' (diode ring) and the '''four-quadrant multiplier''' (Gilbert cell). Instead of using two multipliers, a more common phase detector uses a single multiplier and a different trigonometric identity: :<math>\sin \alpha \cos \beta = {\sin(\alpha - \beta) \over 2} + {\sin(\alpha + \beta) \over 2} \approx {\alpha - \beta \over 2} + {\sin(\alpha + \beta) \over 2} </math> The first term provides the desired phase difference. The second term is a sinusoid at twice the reference frequency, so it can be filtered out. A mixer-based detector (e.g., a Schottky diode-based double-balanced mixer) provides "the ultimate in phase noise floor performance" and "in system sensitivity." since it does not create finite pulse widths at the phase detector output.<ref name=Craw9/> Another advantage of a mixer-based PD is its relative simplicity.<ref name=Craw9>[[#Craw1994|Crawford, 1994, p. 9, 19]]</ref> Both the quadrature and simple multiplier phase detectors have an output that depends on the input amplitudes as well as the phase difference. In practice, the input amplitudes are normalized. ===Digital phase detector=== [[Image:Pass PFD.png|thumb|right|500px|An Example CMOS Digital Phase Frequency Detector (Transistor Variety). Inputs are R and V while the outputs UP and DN feed to a charge pump.]] A phase detector suitable for [[square wave]] signals can be made from an [[XOR|exclusive-OR]] (XOR) [[logic gate]]. When the two signals being compared are completely in-phase, the XOR gate's output will have a constant level of zero. When the two signals differ in phase by 1°, the XOR gate's output will be high for 1/180th of each cycle — the fraction of a cycle during which the two signals differ in value. When the signals differ by 180° — that is, one signal is high when the other is low, and vice versa — the XOR gate's output remains high throughout each cycle. The XOR detector compares well to the analog mixer in that it locks near a 90° phase difference and has a square-wave output at twice the reference frequency. The square-wave changes duty-cycle in proportion to the phase difference resulting. Applying the XOR gate's output to a low-pass filter results in an analog voltage that is proportional to the phase difference between the two signals. It requires inputs that are symmetrical square waves, or nearly so. The remainder of its characteristics are very similar to the analog mixer for capture range, lock time, reference spurious and low-pass filter requirements. Digital phase detectors can also be based on a [[sample and hold]] circuit, a [[charge pump]], or a logic circuit consisting of [[Flip-flop (electronics)|flip-flops]] (see figure). When a phase detector that's based on logic gates is used in a PLL, it can quickly force the VCO to synchronize with an input signal, even when the frequency of the input signal differs substantially from the initial frequency of the VCO. Such phase detectors also have other desirable properties, such as better accuracy when there are only small phase differences between the two signals being compared. This is because a digital phase detector has a nearly infinite pull-in range in comparison to an XOR detector. ===Phase-frequency detector=== A [[Phase Frequency Detector|phase-frequency detector]] is an [[asynchronous]] [[sequential logic]] circuit originally made of four flip-flops (e.g., the phase-frequency detectors found in both the RCA CD4046 and the motorola MC4344 [[integrated circuit|ICs]] introduced in the 1970s). The logic determines which of the two signals has a zero-crossing earlier or more often. When used in a PLL application, lock can be achieved even when it is off frequency and is known as a ''[[Phase Frequency Detector]]''. Such a detector has the advantage of producing an output even when the two signals being compared differ not only in phase but in frequency. A phase frequency detector prevents a "false lock" condition in PLL applications, in which the PLL synchronizes with the wrong phase of the input signal or with the wrong frequency (e.g., a harmonic of the input signal).<ref name=craw17/> A '''bang-bang''' charge pump phase detector supplies current pulses with fixed total charge, either positive or negative, to the capacitor acting as an [[integrator]]. A phase detector for a bang-bang charge pump must always have a '''dead band''' where the phases of inputs are close enough that the detector fires either both or neither of the charge pumps, for no total effect. Bang-bang phase detectors are simple, but are associated with significant minimum peak-to-peak [[jitter]], because of drift within the dead band. In 1976 it was shown that by using a three-state phase detector configuration (using only two [[Flip-flop (electronics)|flip-flops]]) instead of the original RCA/Motorola twelve-state configurations, this problem could be elegantly overcome.{{Citation needed|date=September 2010}} For other types of phase-frequency detectors other, though possibly less-elegant, solutions exist to the dead zone phenomenon.<ref name=craw17>[[#Craw1994|Crawford, 1994, p. 17-23, 153, and several other pages]]</ref> Other solutions are necessary since the three-state phase-frequency detector does not work for certain applications involving randomized signal degradation, which can be found on the inputs to some 