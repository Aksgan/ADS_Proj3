determine the optimal size of a series of bets. In most gambling scenarios, and some investing scenarios under some simplifying assumptions, the Kelly strategy will do better than any essentially different strategy in the long run. It was described by [[John Larry Kelly, Jr|J. L. Kelly, Jr]], in a 1956 issue of the ''[[Bell System Technical Journal]]''.<ref name="original Kelly article">{{Citation |last=Kelly |first=J. L., Jr. |year=1956 |title=A New Interpretation of Information Rate |journal=Bell System Technical Journal |volume=35 |issue= |pages=917–926 |url= |issn= }}</ref> [[Edward O. Thorp]] demonstrated the practical use of the formula in a 1961 address to the ''[[American Mathematical Society]]''<ref name="Thorp talk">{{Citation |last=Thorp |first=E. O. |month=January |year=1961 |title=Fortune's Formula: The Game of Blackjack |work=American Mathematical Society }}</ref> and later in his books ''Beat the Dealer''<ref name="Beat the Dealer">{{Citation |last=Thorp |first=E. O. |year=1962 |title=Beat the dealer: a winning strategy for the game of twenty-one. A scientific analysis of the world-wide game known variously as blackjack, twenty-one, vingt-et-un, pontoon or Van John |publisher=Blaisdell Pub. Co }}</ref> (for gambling) and ''Beat the Market''<ref name="Beat the Market">{{Citation |last=Thorp |first=Edward O. |last2=Kassouf |first2=Sheen T. |year=1967 |title=Beat the Market: A Scientific Stock Market System |publisher=Random House |isbn=0394424395 }}</ref> (with Sheen Kassouf, for investing). Although the Kelly strategy's promise of doing better than any other strategy seems compelling, some economists have argued strenuously against it, mainly because an individual's specific investing constraints override the desire for optimal growth rate.<ref name="Poundstone book article">{{citation |last=Poundstone |first=William|title=Fortune's Formula: The Untold Story of the Scientific Betting System That Beat the Casinos and Wall Street |year=2005 |publisher=Hill and Wang |location=New York |isbn=0809046377 }}</ref> The conventional alternative is [[utility]] theory which says bets should be sized to [[Optimization (mathematics)|maximize]] the [[expectation|expected]] utility of the outcome (to an individual with [[logarithm]]ic utility, the Kelly bet maximizes utility, so there is no conflict). Even Kelly supporters usually argue for fractional Kelly (betting a fixed fraction of the amount recommended by Kelly) for a variety of practical reasons, such as wishing to reduce volatility, or protecting against non-deterministic errors in their advantage (edge) calculations.<ref name="Wilmott I">{{citation |last=Thorp |first=E. O. |title=The Kelly Criterion: Part I |month=May |year=2008 |journal=Wilmott Magazine }}</ref> In recent years, Kelly has become a part of mainstream investment theory<ref name="Handbook of Asset and Liability Management">{{citation |last=Zenios |first=S. A. |last2=Ziemba |first2=W. T. |title=Handbook of Asset and Liability Management |year=2006 |publisher=North Holland |location= |isbn=978-0444508751 }}</ref> and the claim has been made that well-known successful investors including [[Warren Buffett]]<ref name="The Dhandho Investor">{{citation |last=Pabrai |first=Mohnish |title=The Dhandho Investor: The Low-Risk Value Method to High Returns |year=2007 |publisher=Wiley |location= |isbn=978-0470043899}}</ref> and [[William H. Gross|Bill Gross]]<ref name="Wilmott II">{{citation |last=Thorp |first=E. O. |title=The Kelly Criterion: Part II |month=September |year=2008 |journal=Wilmott Magazine }}</ref> use Kelly methods. [[William Poundstone]] wrote an extensive popular account of the history of Kelly betting in ''Fortune's Formula''.<ref name="Poundstone book article" /> But as Kelly's original paper demonstrates, the criterion is only valid when the investment or "game" is played many times over, with the same probability of winning or losing each time, and the same payout ratio.<ref name="original Kelly article">J. L. Kelly, Jr, <cite>A New Interpretation of Information Rate</cite>, Bell System Technical Journal, 35, (1956), 917–926</ref> == Statement == For simple bets with two outcomes, one involving losing the entire amount bet, and the other involving winning the bet amount multiplied by the payoff [[odds]], the Kelly bet is: : <math> f^{*} = \frac{bp - q}{b} , \! </math> where: * ''f''* is the fraction of the current bankroll to wager; * ''b'' is the net odds received on the wager (that is, odds are usually quoted as "''b'' to 1") * ''p'' is the probability of winning; * ''q'' is the probability of losing, which is 1 − ''p''. As an example, if a gamble has a 60% chance of winning (''p'' = 0.60, ''q'' = 0.40), but the gambler receives 1-to-1 odds on a winning bet (''b'' = 1), then the gambler should bet 20% of the bankroll at each opportunity (''f''* = 0.20), in order to maximize the long-run growth rate of the bankroll. If the gambler has zero edge, i.e. if ''b'' = ''q''/''p'', then the criterion will usually recommend the gambler bets nothing (although in more complex scenarios such a bet may help ensure the best compounding rate of return: for instance a short-priced favourite in a horse race may be worth covering to provide downside protection even though the only advantageous bet is on another outsider). If the edge is negative (''b'' < ''q''/''p'') the formula gives a negative result, indicating that the gambler should take the other side of the bet. For example, in standard American roulette, the bettor is offered an even money payoff (b = 1) on red, when there are 18 red numbers and 20 non-red numbers on the wheel (p = 18/38). The Kelly bet is -1/19, meaning the gambler should bet one-nineteenth of the bankroll that red will not come up. Unfortunately, the casino doesn't allow betting ''against'' red, so a Kelly gambler could not bet. For even-money bets (i.e. when ''b'' = 1), the formula can be simplified to: : <math> f^{*} = p - q . \! </math> Since q = 1-p, this simplifies further to : <math> f^{*} = 2p - 1 . \! </math> == Proof == To quickly verify the Kelly criterion with [[Python_(programming_language)|Python]] and [[Sympy]] one would set the derivative y'(x) of the expected value of the logarithmic bankroll y(x) to 0 and solve x: <source lang="python"> >>> from sympy import * >>> x,b,p = symbols('xbp') >>> y = p*log(1+b*x) + (1-p)*log(1-x) >>> solve(diff(y,x), x) [-(1 - p - b*p)/b] </source> For a rigorous and general proof, see [[John Larry Kelly, Jr|Kelly's]] original paper<ref name="original Kelly article">J. L. Kelly, Jr, <cite>A New Interpretation of Information Rate</cite>, Bell System Technical Journal, 35, (1956), 917–926</ref> or some of the other references listed below. Some corrections can be found in: Optimal Gambling Systems For Favourable Games:- L. Breiman, University of California, Los Angeles. We give the following non-rigorous argument for the case 