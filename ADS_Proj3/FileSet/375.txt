[[Storage area network|SAN]]). This type of storage is very convenient and speedy, but is relatively expensive. On-line storage is quite vulnerable to being deleted or overwritten, either by accident, by intentional malevolent action, or in the wake of a data-deleting [[Computer virus|virus]] payload. ; [[Nearline storage|Near-line]] : Near-line storage is typically less accessible and less expensive than on-line storage, but still useful for backup data storage. A good example would be a [[tape library]] with restore times ranging from seconds to a few minutes. A mechanical device is usually involved in moving media units from storage into a drive where the data can be read or written. Generally it has safety properties similar to on-line storage. ; [[Off-line storage|Off-line]] : Off-line storage requires some direct human action in order to make access to the storage media physically possible. This action is typically inserting a tape into a tape drive or plugging in a cable that allows a device to be accessed. Because the data is not accessible via any computer except during limited periods in which it is written or read back, it is largely immune to a whole class of on-line backup failure modes. Access time will vary depending on whether the media is on-site or off-site. ; [[Off-site data protection]]: To protect against a disaster or other site-specific problem, many people choose to send backup media to an off-site vault. The vault can be as simple as a system administrator's home office or as sophisticated as a disaster hardened, temperature controlled, high security bunker that has facilities for backup media storage. Importantly a data replica ''can'' be off-site but also ''on-line'' (e.g., an off-site [[RAID]] mirror). Such a replica has fairly limited value as a backup, and should not be confused with an off-line backup. ; [[Backup site]] or disaster recovery center (DR center): In the event of a disaster, the data on backup media will not be sufficient to recover. Computer systems onto which the data can be restored and properly configured networks are necessary too. Some organizations have their own data recovery centers that are equipped for this scenario. Other organizations contract this out to a third-party recovery center. Because a DR site is itself a huge investment, backing up is very rarely considered the preferred method of moving data to a DR site. A more typical way would be remote [[disk mirroring]], which keeps the DR data as up to date as possible. == Selection and extraction of data == A successful backup job starts with selecting and extracting coherent units of data. Most data on modern computer systems is stored in discrete units, known as [[Computer file|file]]s. These files are organized into [[filesystem]]s. Files that are actively being updated can be thought of as "live" and present a challenge to back up. It is also useful to save metadata that describes the computer or the filesystem being backed up. Deciding what to back up at any given time is a harder process than it seems. By backing up too much redundant data, the data repository will fill up too quickly. Backing up an insufficient amount of data can eventually lead to the loss of critical information. === Files === ; [[File copying|Copying files]] : Making copies of files is the simplest and most common way to perform a backup. A means to perform this basic function is included in all backup software and all operating systems. ; Partial file copying : Instead of copying whole files, one can limit the backup to only the blocks or bytes within a file that have changed in a given period of time. This technique can use substantially less storage space on the backup medium, but requires a high level of sophistication to reconstruct files in a restore situation. Some implementations require integration with the source filesystem. When backing up over a network, the [[rsync]] utility automatically transmits a minimum set of changes to bring an earlier version of a file at the destination up to date with the current version at the source. Rsync can dramatically reduce the network traffic needed to maintain a remote mirror of a large set of files undergoing small, frequent changes. === Filesystems === ; Filesystem dump : Instead of copying files within a filesystem, a copy of the whole filesystem itself can be made. This is also known as a ''raw partition backup'' and is related to [[disk image|disk imaging]]. The process usually involves unmounting the filesystem and running a program like [[dd (Unix)]]. Because the disk is read sequentially and with large buffers, this type of backup can be much faster than reading every file normally, especially when the filesystem contains many small files, is highly fragmented, or is nearly full. But because this method also reads the free disk blocks that contain no useful data, this method can also be slower than conventional reading, especially when the filesystem is nearly empty. Some filesystems, such as [[XFS]], provide a "dump" utility that reads the disk sequentially for high performance while skipping unused sections. The corresponding restore utility can selectively restore individual files or the entire volume at the operator's choice. ; Identification of changes : Some filesystems have an archive bit for each file that says it was recently changed. Some backup software looks at the date of the file and compares it with the last backup to determine whether the file was changed. ; [[Versioning file system]] : A versioning filesystem keeps track of all changes to a file and makes those changes accessible to the user. Generally this gives access to any previous version, all the way back to the file's creation time. An example of this is the Wayback versioning filesystem for Linux.<ref>[http://www.aqualab.cs.northwestern.edu/publications/Cornell04VFS.html Wayback: A User-level V File System for Linux] (2004). Retrieved on 10 March 2007 </ref> If a computer system is in use while it is being backed up, the possibility of files being open for reading or writing is real. If a file is 