to one byte less than 4{{nbsp}}[[Gibibyte|GiB]] (2<sup>32</sup>{{nbsp}}âˆ’{{nbsp}}1{{nbsp}}= {{gaps|4|294|967|295}} bytes), by making use of a 32-bit length field. Packets with such payloads are called [[jumbogram]]s. Since both [[Transmission Control Protocol|TCP]] and [[User Datagram Protocol|UDP]] include fields limited to 16 bits (length, urgent data pointer), support for IPv6 jumbograms requires modifications to the [[Transport Layer]] protocol implementation.<ref name=rfc2675 /> Jumbograms are only relevant for links that have a [[Maximum transmission unit|MTU]] larger than {{gaps|65|583}} octets <!-- The RFC mentions 65575 octets (payload + fixed header) but ignores the fact that you need a Hop-by-Hop extension header to enable payloads over 65535 octets. -->(more than {{gaps|65|535}} octets for the payload, plus 40 octets for the fixed header, plus 8 octets for the ''Hop-by-Hop'' extension header). ==Fragmentation== Unlike in IPv4, IPv6 [[router]]s never fragment IPv6 packets. Packets exceeding the size of the maximum transmission unit of the destination link are dropped and this condition is signaled by a ''Packet too Big'' [[ICMPv6]] type 2 message to the originating node, similarly to the IPv4 method when the ''Don't Fragment'' bit set.<ref name=rfc2460 /> End nodes in IPv6 are expected to perform path MTU discovery to determine the maximum size of packets to send, and the upper-layer protocol is expected to limit the payload size. However, if the upper-layer protocol is unable to do so, the sending host may use the ''Fragment'' extension header in order to perform end-to-end fragmentation of IPv6 packets. ===Fragmenting=== A packet containing a fragment of an original (larger) packet consists of two parts: the unfragmentable part of the original packet (which is the same for all fragments), and a piece of the fragmentable part of the original packet, identified by a fragment offset. The unfragmentable part of a packet consists of the fixed header and some of the extension headers of the original packet (if present): all extension headers up to and including the ''Routing'' extension header, or else the ''Hop-by-Hop'' extension header. If neither extension headers are present, the unfragmentable part is just the fixed header. The ''Next Header'' value of the last (extension) header of the unfragmentable part is set to <tt>44</tt> to indicate that a ''Fragment'' extension header follows. After the ''Fragment'' extension header a fragment of the rest of the original packet follows. The first fragment(s) hold the rest of the extension headers (if present). After that the rest of the payload follows. Each fragment is a multiple of 8 octets in length, except the last fragment. Each ''Fragment'' extension header has its ''M'' flag set to <tt>1</tt> (indicating more fragments follow), except the last, whose flag is set to <tt>0</tt>. ===Reassembly=== The original packet is reassembled by the receiving node by collecting all fragments and placing each fragment at the right offset and discarding the ''Fragment'' extension headers of the packets that carried them. Packets containing fragments need not arrive in sequence; they will be rearranged by the receiving node. If not all fragments are received within 60 seconds after receiving the first packet with a fragment, reassembly of the original packet is abandoned and all fragments are discarded. If the ''first'' fragment was received (which contains the fixed header), a ''Time Exceeded'' message ([[ICMPv6]] type 3, code 1) is returned to the node originating the fragmented packet, if the packet was discarded for this reason. ==References== {{Reflist|colwidth=30em}} ==See also== {{IPv6}} [[Category:Packets (information technology)]] [[Category:IPv6]] [[Category:Internet Protocol]] [[Category:Internet Layer protocols]] [[Category:Network layer protocols]]</text> </page> <page> <id>17655</id> <title>IPv6 subnetting reference</title> <text>{{New unreviewed article|bot=yes|date=January 2011}} This '''IPv6 Subnetting Reference''' is about selecting the correct network size for [[IPv6]] computer network addresses using [[CIDR]] notation. Different uses of IPv6 networks require different subnet sizes.<ref>[http://www.getipv6.info/index.php/IPv6_Addressing_Plans ARIN IPv6 Addressing Plans]</ref> The CIDR netmask separates the bits of the network identifier prefix from the bits of the host identifier. Selecting a smaller CIDR netmask will result in a fewer amount of networks, but with more space for hosts within those networks.<ref>[http://www.ripe.net/info/info-services/addressing.html RIPE IP Allocation Rates]</ref> Not all sizes of prefix announcement may be routable on the public Internet: see [[routing]], [[peering]], [[Comparison of IPv6 support by major transit providers]] In general, as of this writing, most providers will accept /48s, at least from the PI pools being issued by the RIRs. Some providers will only accept /32 and shorter outside of those pools. In terms of LANs, /64s are highly advisable, but, a local site administrator may choose any prefix length they want. SLAAC will not work with other than /64 prefix lengths. It is highly recommended that ISPs use a /48 for each end-site (note: end-site is not necessarily a customer, some customers may have multiple sites). ==CIDR Prefixes== 2001:0db8:0123:4567:89ab:cdef:1234:5678 |||| |||| |||| |||| |||| |||| |||| |||| |||| |||| |||| |||| |||| |||| |||| |||128 Single end-points and [[loopback]] |||| |||| |||| |||| |||| |||| |||| ||124 |||| |||| |||| |||| |||| |||| |||| |120 |||| |||| |||| |||| |||| |||| |||| 116 |||| |||| |||| |||| |||| |||| |||112 |||| |||| |||| |||| |||| |||| ||108 |||| |||| |||| |||| |||| |||| |104 |||| |||| |||| |||| |||| |||| 100 |||| |||| |||| |||| |||| |||96 |||| |||| |||| |||| |||| ||92 |||| |||| |||| |||| |||| |88 |||| |||| |||| |||| |||| 84 |||| |||| |||| |||| |||80 |||| |||| |||| |||| ||76 |||| |||| |||| |||| |72 |||| |||| |||| |||| 68 |||| |||| |||| |||64 Single End-user LAN (default prefix size for [[SLAAC]]) |||| |||| |||| ||60 Some (very limited) 6rd deployments |||| |||| |||| |56 Minimal End-user multi-LAN used by some providers for SOHO, some 6rd deployments |||| |||| |||| 52 |||| |||| |||48 End-user multi-LAN (ideal for automatic hierarchies and general purpose end-site deployments) |||| |||| ||44 |||| |||| |40 |||| |||| 36 possible future [[Local Internet registry]] extra-small allocations |||| |||32 [[Local Internet registry]] minimum allocations |||| ||28 [[Local Internet registry]] medium allocations |||| |24 [[Local Internet registry]] large allocations |||| 20 [[Local Internet registry]] extra large allocations |||16 ||12 [[Regional Internet Registry]] allocations from IANA |8 4 ==See also== * [[IPv6]] * 