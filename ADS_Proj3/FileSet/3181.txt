Nim heap that yields the same outcome when played in parallel with other normal play impartial games (see [[disjunctive sum]]). While all normal play impartial games can be assigned a nim value, that is not the case under the misère convention. Only tame games can be played using the same strategy as misère nim. A version of Nim is played —and has symbolic importance— in the [[French New Wave]] film ''[[Last Year at Marienbad]]'' (1961). == Game play and illustration == The normal game is between two players and played with three heaps of any number of objects. The two players alternate taking any number of objects from any single one of the heaps. The goal is to be the last to take an object. In misère play, the goal is instead to ensure that the opponent is forced to take the last remaining object. The following example game is played between fictional players [[Alice and Bob]] who start with heaps of 3, 4 and 5 objects. The winning strategy is for a player to leave always an even total number of 1's, 2's, and 4's. In the example, Alice implements this strategy. Sizes of heaps Moves A B C 3 4 5 Alice takes 2 from A 1 4 5 Bob takes 3 from C 1 4 2 Alice takes 1 from B 1 3 2 Bob takes 1 from B 1 2 2 Alice takes entire A heap, leaving two 2s. 0 2 2 Bob takes 1 from B 0 1 2 Alice takes 1 from C leaving two 1s. (''In misère play she would take 2 from C leaving (0, 1, 0).'') 0 1 1 Bob takes 1 from B 0 0 1 Alice takes entire C heap and wins. [[File:nim qc.jpg]] == Mathematical theory == Nim has been mathematically solved for any number of initial heaps and objects; that is, there is an easily calculated way to determine which player will win and what winning moves are open to that player. In a game that starts with heaps of 3, 4, and 5, the first player will win with optimal play, whether the misère or normal play convention is followed. The key to the theory of the game is the [[Binary numeral system|binary]] [[digital sum in base b|digital sum]] of the heap sizes, that is, the sum (in binary) neglecting all carries from one digit to another. This operation is also known as "[[exclusive or]]" (xor) or "vector addition over [[finite field|'''GF'''(2)]]". Within [[combinatorial game theory]] it is usually called the '''nim-sum''', as will be done here. The nim-sum of ''x'' and ''y'' is written ''x'' ⊕ ''y'' to distinguish it from the ordinary sum, ''x'' + ''y''. An example of the calculation with heaps of size 3, 4, and 5 is as follows: [[Binary numeral system|Binary]] [[Decimal]] 011<sub>2</sub> 3<sub>10</sub> Heap A 100<sub>2</sub> 4<sub>10</sub> Heap B 101<sub>2</sub> 5<sub>10</sub> Heap C --- 010<sub>2</sub> 2<sub>10</sub> The nim-sum of heaps A, B, and C, 3 ⊕ 4 ⊕ 5 = 2 An equivalent procedure, which is often easier to perform mentally, is to express the heap sizes as sums of distinct [[Exponentiation|powers]] of 2, cancel pairs of equal powers, and then add what's left: 3 = 0 + 2 + 1 = 2 1 Heap A 4 = 4 + 0 + 0 = 4 Heap B 5 = 4 + 0 + 1 = 4 1 Heap C --- 2 = 2 What's left after canceling 1s and 4s In normal play, the winning strategy is to finish every move with a Nim-sum of 0. This is always possible if the Nim-sum is not zero before the move. If the Nim-sum is zero, then the next player will lose if the other player does not make a mistake. To find out which move to make, let X be the Nim-sum of all the heap sizes. Take the Nim-sum of each of the heap sizes with X, and find a heap whose size decreases. The winning strategy is to play in such a heap, reducing that heap to the Nim-sum of its original size with X. In the example above, taking the Nim-sum of the sizes is X = 3 ⊕ 4 ⊕ 5 = 2. The Nim-sums of the heap sizes A=3, B=4, and C=5 with X=2 are : A &oplus; X = 3 &oplus; 2 = 1 [Since (011) &oplus; (010) = 001 ] : B &oplus; X = 4 &oplus; 2 = 6 : C &oplus; X = 5 &oplus; 2 = 7 The only heap that is reduced is heap A, so the winning move is to reduce the size of heap A to 1 (by removing two objects). As a particular simple case, if there are only two heaps left, the strategy is to reduce the number of objects in the bigger heap to make the heaps equal. After that, no matter what move your opponent makes, you can make the same move on the other heap, guaranteeing that you take the last object. When played as a misère game, Nim strategy is different only when the normal play move would leave no heap of size 2 or larger. In that case, the correct move is to leave an odd number of heaps of size 1 (in normal play, the correct move would be to leave an even number of such heaps). In a misère game with heaps of sizes 3, 4 and 5, the strategy would be applied like this: A B C Nim-sum 3 4 5 010<sub>2</sub>=2<sub>10</sub> I take 2 from A, leaving a sum of 000, so I will win. 1 4 5 000<sub>2</sub>=0<sub>10</sub> You take 2 from C 1 4 3 110<sub>2</sub>=6<sub>10</sub> I take 2 from B 1 2 3 000<sub>2</sub>=0<sub>10</sub> You take 1 from C 1 2 2 001<sub>2</sub>=1<sub>10</sub> I take 1 from A 0 2 2 000<sub>2</sub>=0<sub>10</sub> You take 1 from C 0 2 1 011<sub>2</sub>=3<sub>10</sub> The normal play strategy would be to take 1 from B, leaving 