created when we have more than one constraint acting together. As an example, consider a [[paraboloid]] with a constraint that is a single point (as might be created if we had 2 line constraints that intersect). The [[level set]] (i.e. contour line) clearly appears to “cross” that point and its [[gradient]] is clearly not parallel to the gradients of either of the two line constraints. Yet, it is obviously a maximum *and* a minimum because there is only one point on the paraboloid that meets the constraint. While this example seems a bit odd, it is easy to understand and is representative of the sort of “effective” constraint that appears quite often when we deal with multiple constraints intersecting. Thus, we take a slightly different approach below to explain and derive the Lagrange Multipliers method with any number of constraints. Throughout this section, the independent variables will be denoted by <math>x_1,x_2,\ldots ,x_N</math> and, as a group, we will denote them as <math>p=\left( x_1,x_2,\ldots ,x_N \right)</math>. Also, the function being analyzed will be denoted by <math>f\left( p \right)</math> and the constraints will be represented by the equations <math>g_{1}\left( p \right) = 0,g_{2}\left( p \right) = 0,\,\,\ldots ,g_{M}\left( p \right) = 0</math>. The basic idea remains essentially the same: if we consider only the points that satisfy the constraints (i.e. are ''in'' the constraints), then a point <math>\left( p,f\left( p \right) \right)</math> is a stationary point (i.e. a point in a “flat” region) of ''f'' if and only if the constraints at that point do not allow movement in a direction where ''f'' changes value. It is intuitive that this is true because if the constraints allowed us to travel from this point to a (infinitesimally) near point with a ''different'' value, then we would ''not'' be in a “flat” region (i.e. a stationary point). Once we have located the stationary points, we need to do further tests to see if we have found a minimum, a maximum or just a stationary point that is neither. We start by considering the level set of ''f'' at <math>\left( p,f\left( p \right) \right)</math>. The set of vectors <math>\left\{ v_{L} \right\}</math> containing the directions in which we can move and still remain in the same level set are the directions where the value of ''f'' does not change (i.e. the change equals zero). Thus, for every vector ''v'' in <math>\left\{ v_{L} \right\}</math> , the following relation must hold: : <math>\Delta f=\frac{df}{dx_{1}}v_{x_{1}}+\frac{df}{dx_{2}}v_{x_{2}}+\,\,\,\cdots \,\,\,+\frac{df}{dx_{N}}v_{x_{N}}=0</math> where the notation <math>v_{x_{K}}</math> above means the <math>x_{K}</math>-component of the vector ''v''. The equation above can be rewritten in a more compact geometric form that helps our intuition: : <math>\begin{matrix} \underbrace{\begin{matrix} \left[ \begin{matrix} \frac{df}{dx_{1}} \\ \frac{df}{dx_{2}} \\ \vdots \\ \frac{df}{dx_{N}} \\ \end{matrix} \right] \\ {} \\ \end{matrix}}_{\nabla f} & \centerdot & \underbrace{\begin{matrix} \left[ \begin{matrix} v_{x_{1}} \\ v_{x_{2}} \\ \vdots \\ v_{x_{N}} \\ \end{matrix} \right] \\ {} \\ \end{matrix}}_{v} & =\,\,0 \\ \end{matrix}\,\,\,\,\,\,\,\,\,\,\,\,\Rightarrow \,\,\,\,\,\,\,\,\nabla f\,\,\,\centerdot \,\,\,\,v\,\,=\,\,\,0</math> This makes it clear that if we are at ''p'' , then ''all'' directions from this point that do ''not'' change the value of ''f'' ''must be perpendicular'' to <math>\nabla f\left( p \right)</math> (the gradient of ''f'' at ''p''). Now let us consider the effect of the constraints. Each constraint limits the directions that we can move from a particular point and still satisfy the constraint. We can use the same procedure, to look for the set of vectors <math>\left\{ v_{C} \right\}</math> containing the directions in which we can move and still satisfy the constraint. As above, for every vector ''v'' in <math>\left\{ v_{C} \right\}</math>, the following relation must hold: : <math>\Delta g=\frac{dg}{dx_{1}}v_{x_{1}}+\frac{dg}{dx_{2}}v_{x_{2}}+\,\,\,\cdots \,\,\,+\frac{dg}{dx_{N}}v_{x_{N}}=0\,\,\,\,\,\,\,\,\,\,\,\,\,\Rightarrow \,\,\,\,\,\,\,\,\,\,\,\nabla g\,\,\centerdot \,\,\,v\,\,=\,\,\,0</math> From this, we see that at point ''p'', all directions from this point that will still satisfy this constraint must be perpendicular to <math>\nabla g\left( p \right)</math> . Now we are ready to refine our idea further and complete the method: ''a point on'' ''f'' ''is a constrained stationary point if and only if the direction that changes'' ''f'' ''violates at least one of the constraints''. (We can see that this is true because if a direction that changes ''f'' did ''not'' violate any constraints, then there would a “legal” point nearby with a higher or lower value for ''f'' and the current point would then not be a stationary point.) === Single constraint revisited === For a single constraint, we use the statement above to say that at stationary points the direction that changes ''f'' is in the same direction that violates the constraint. To determine if two vectors are in the same direction, we note that if two vectors start from the same point and are “in the same direction”, then one vector can always “reach” the other by changing its length and/or flipping to point the opposite way along the same direction line. In this way, we can succinctly state that two vectors point in the same direction if and only if one of them can be multiplied by some real number such that they become equal to the other. So, for our purposes, we require that: : <math>\nabla f\left( p \right)=\lambda \, \nabla g\left( p \right) \qquad \Rightarrow \qquad \nabla f\left( p \right)-\lambda \, \nabla g\left( p \right)\,\,=\,\,0</math> If we now add another simultaneous equation to guarantee that we only perform this test when we are at a point that satisfies the constraint, we end up with 2 simultaneous equations that when solved, identify all constrained stationary points: : <math>\begin{cases} g\left( p \right)=0 & \text{means point satisfies constraint} \\ \nabla f\left( p \right)-\lambda \, \nabla g\left( p \right) = 0 & \text{means point is a stationary point} \end{cases} </math> Note that the above is a succinct way of writing the equations. Fully expanded, there are <math>\text{N}+\text{1}</math> simultaneous equations that need to be solved for the <math>\text{N}+\text{1}</math> variables which are <math>\lambda </math> and <math>x_1,\ x_2, \ldots, x_N</math>: : <math>\begin{align} g\left( x_1, x_2, \ldots , x_N \right) & =0 \\ \frac{df}{dx_1}\left( x_1, x_2, \ldots, x_N \right) - \lambda \frac{dg}{dx_1}\left( x_1, x_2,\ldots , x_N \right) & = 0 \\ \frac{df}{dx_2}\left( 