to the existence of the "internetworking layer" and generally to "upper layers"; this document was intended as a 1996 "snapshot" of the architecture: "The Internet and its architecture have grown in evolutionary fashion from modest beginnings, rather than from a Grand Plan. While this process of evolution is one of the main reasons for the technology's success, it nevertheless seems useful to record a snapshot of the current principles of the Internet architecture." RFC 1122, entitled ''Host Requirements'', is structured in paragraphs referring to layers, but the document refers to many other architectural principles not emphasizing layering. It loosely defines a four-layer model, with the layers having names, not numbers, as follows: *Application Layer (process-to-process): This is the scope within which applications create user data and communicate this data to other processes or applications on another or the same host. The communications partners are often called ''peers''. This is where the "higher level" protocols such as [[SMTP]], [[File Transfer Protocol|FTP]], [[Secure Shell|SSH]], [[HTTP]], etc. operate. *Transport Layer (host-to-host): The Transport Layer constitutes the networking regime between two network hosts, either on the local network or on remote networks separated by routers. The Transport Layer provides a uniform networking interface that hides the actual topology (layout) of the underlying network connections. This is where flow-control, error-correction, and connection protocols exist, such as [[Transmission Control Protocol|TCP]]. This layer deals with opening and maintaining connections between Internet hosts. *Internet Layer (internetworking): The Internet Layer has the task of exchanging datagrams across network boundaries. It is therefore also referred to as the layer that establishes internetworking, indeed, it defines and establishes the [[Internet]]. This layer defines the addressing and routing structures used for the TCP/IP protocol suite. The primary protocol in this scope is the [[Internet Protocol]], which defines [[IP address]]es. Its function in routing is to transport datagrams to the next IP router that has the connectivity to a network closer to the final data destination. *Link Layer: This layer defines the networking methods within the scope of the local network link on which hosts communicate without intervening routers. This layer describes the protocols used to describe the local network topology and the interfaces needed to affect transmission of Internet Layer datagrams to next-neighbor hosts. (cf. the OSI Data Link Layer). The [[Internet Protocol Suite]] and the layered [[protocol stack]] design were in use before the [[OSI model]] was established. Since then, the TCP/IP model has been compared with the OSI model in books and classrooms, which often results in confusion because the two models use different assumptions, including about the relative importance of strict layering. ==Layers in the TCP/IP model== {| align="right" |- | [[Image:IP stack connections.svg|thumb|350px|Two Internet hosts connected via two routers and the corresponding layers used at each hop.]] |- | [[Image:UDP encapsulation.svg|thumb|350px|Encapsulation of application data descending through the TCP/IP layers]] |} The layers near the top are logically closer to the user application, while those near the bottom are logically closer to the physical transmission of the data. Viewing layers as providing or consuming a service is a method of [[abstraction (computer science)|abstraction]] to isolate upper layer protocols from the nitty-gritty detail of transmitting bits over, for example, [[Ethernet]] and [[Carrier sense multiple access with collision detection|collision detection]], while the lower layers avoid having to know the details of each and every application and its protocol. This abstraction also allows upper layers to provide services that the lower layers cannot, or choose not to, provide. Again, the original [[OSI Reference Model]] was extended to include connectionless services (OSIRM CL).<ref>[ OSI: Reference Model Addendum 1: Connectionless-mode Transmission,ISO7498/AD1],ISO7498/AD1, May 1986</ref> For example, IP is not designed to be reliable and is a [[best effort delivery]] protocol. This means that all transport layer implementations must choose whether or not to provide reliability and to what degree. UDP provides data integrity (via a [[checksum]]) but does not guarantee delivery; TCP provides both data integrity and delivery guarantee (by retransmitting until the receiver acknowledges the reception of the packet). This model lacks the formalism of the OSI reference model and associated documents, but the IETF does not use a formal model and does not consider this a limitation, as in the comment by [[David D. Clark]], "We reject: kings, presidents and voting. We believe in: rough consensus and running code." Criticisms of this model, which have been made with respect to the OSI Reference Model, often do not consider ISO's later extensions to that model. # For multiaccess links with their own addressing systems (e.g. Ethernet) an address mapping protocol is needed. Such protocols can be considered to be below IP but above the existing link system. While the IETF does not use the terminology, this is a subnetwork dependent convergence facility according to an extension to the OSI model, the Internal Organization of the Network Layer (IONL).<ref>[http://www.iso.org/iso/en/CatalogueDetailPage.CatalogueDetail?CSNUMBER=16011 Internal Organization of the Network Layer], ISO 8648</ref> # ICMP & IGMP operate on top of IP but do not transport data like UDP or TCP. Again, this functionality exists as layer management extensions to the OSI model, in its ''Management Framework'' (OSIRM MF) <ref>[http://www.iso.org/iso/en/CatalogueDetailPage.CatalogueDetail?CSNUMBER=14258&ICS1=35&ICS2=100&ICS3=70 Open Systems Interconnection -- Basic Reference Model -- Part 4: Management framework], ISO 7498/4</ref> # The SSL/TLS library operates above the transport layer (uses TCP) but below application protocols. Again, there was no intention, on the part of the designers of these protocols, to comply with OSI architecture. # The link is treated like a black box here. This is fine for discussing IP (since the whole point of IP is it will run over virtually anything). The IETF explicitly does not intend to discuss transmission systems, which is a less academic but practical alternative to the OSI Reference Model. The following is a description of each layer in the TCP/IP networking model starting from the lowest level. ===Link Layer=== The Link Layer is the networking scope of the local network connection to which a host is attached. This regime is called the ''link'' in Internet literature. This is the lowest 